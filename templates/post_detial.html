<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ post.title }} | æŠ•ç¨¿è©³ç´°</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
</head>
<body class="bg-gray-100 text-gray-800">
  <!-- æŠ•ç¨¿æœ¬ä½“ -->
  <main class="max-w-3xl mx-auto mt-10 px-4">
    <article class="bg-white shadow-lg rounded-2xl p-6">
        <h1 class="text-3xl font-bold mb-4">{{ post.title }}</h1>
        <div class="text-sm text-gray-500 mb-4">
            <span class="mr-4"><strong>å ´æ‰€:</strong> {{ post.place_name }}</span>
            <span><strong>ä½æ‰€:</strong> {{ post.address }}</span>
        </div>

        {% if post.image_filename %}
            <img src="{{ post.image_filename }}" alt="æŠ•ç¨¿ç”»åƒ" class="w-full rounded-xl shadow mb-6">
        {% endif %}

        {% if post.annotation %}
            <p class="text-lg leading-relaxed mb-6">{{ post.annotation }}</p>
        {% endif %}

        <div class="grid grid-cols-2 gap-4 text-sm text-gray-700 mb-6">
            <div><strong>æŠ•ç¨¿è€…ã‚¿ã‚¤ãƒ—:</strong> {{ post.poster_type }}</div>
            <div><strong>ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—:</strong> {{ post.location_type }}</div>
        </div>

        <!-- â˜… é«˜è©•ä¾¡ãƒœã‚¿ãƒ³ã‚’è¿½åŠ  -->
        <form action="/like/{{ post.id }}" method="POST">
            <button type="submit" 
            class="px-4 py-2 bg-green-600 text-white font-semibold rounded hover:bg-green-700 transition">
            ğŸ‘ é«˜è©•ä¾¡
            </button>
        </form>

        <div class="mt-6">
            <a href="/" class="text-blue-600 hover:text-blue-800 font-semibold">â† æŠ•ç¨¿ä¸€è¦§ã¸æˆ»ã‚‹</a>
        </div>
    </article>


    <!-- ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§ -->
    <section class="bg-white shadow-lg rounded-2xl mt-8 p-6">
      <h2 class="text-2xl font-semibold mb-4">ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§</h2>
      {% if comments and comments|length > 0 %}
        <ul class="divide-y divide-gray-200">
          {% for c in comments %}
            <li class="py-3">
              <p class="font-semibold text-gray-900">{{ c.user_name }}</p>
              <p class="text-gray-700">{{ c.content }}</p>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-gray-500">ã¾ã ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
      {% endif %}
    </section>

    <!-- ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  -->
    <!-- ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ  -->
        <section class="bg-white shadow-lg rounded-2xl mt-8 p-6">
            <h2 class="text-2xl font-semibold mb-4">ã‚³ãƒ¡ãƒ³ãƒˆã‚’æŠ•ç¨¿</h2>
            <form method="POST" action="/posts/{{ post.id }}" class="space-y-4">
                <!-- ã‚³ãƒ¡ãƒ³ãƒˆæœ¬æ–‡ -->
                <textarea 
                name="comment" 
                rows="3" 
                placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›..." 
                class="w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
                required
                ></textarea>

                <!-- ã‚³ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒ—é¸æŠ -->
                <div>
                <label for="comment_type" class="block text-sm font-medium text-gray-700 mb-1">ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹äººã®ã‚¿ã‚¤ãƒ—</label>
                <select 
                    name="comment_type" 
                    id="comment_type"
                    class="w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400"
                    required
                >
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="è¦³å…‰è€…">è¦³å…‰è€…</option>
                    <option value="åœ°å…ƒã®äºº">åœ°å…ƒã®äººã€</option>
                </select>
                </div>

                <!-- é€ä¿¡ãƒœã‚¿ãƒ³ -->
                <button 
                type="submit" 
                class="px-5 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow hover:bg-blue-700 transition"
                >
                é€ä¿¡
                </button>
            </form>
        </section>
    </main>

  <footer class="text-center text-gray-500 text-sm mt-10 mb-4">
    &copy; 2025 ã‚ãªãŸã®ã‚¢ãƒ—ãƒªå
  </footer>
</body>
</html>
